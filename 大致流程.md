# 大致流程

## 手眼标定（内参、外参）

camera_calibration功能包实现相机内参标定的过程

easy_handeye功能包的使用方法

**手眼标定**

- 两种场景：眼在手外、眼在手上，眼在手上求解camera_link与tip_link之间的变换

- 采样多个标定位姿下的图像数据，可以得到以下公式，最终简化成AX = XB的求解问题：easy_handeye功能包，提供外参标定

## 物体识别与定位

二维点云or三维点云，在ROS可以找到对应的功能包

## 抓取姿态分析

## 运动规划

moveit最擅长的部分

## 机械臂视觉抓取案例

绿色物体在图像坐标系下的识别，将物体在图像坐标系下的位置，变换到机器人base_link下的位姿，并控制机器人完成抓取动作

调用visionManager完成物体识别，将图像坐标系变换到相机坐标系，接着再左乘相机与机器人坐标系的变换矩阵，即可得到物体在机器人坐标系下的位姿，camera_to_link

## ROS机器视觉应用中的关键点

- ROS图像接口：如何在ROS中将摄像头驱动起来，以及驱动发布的图像数据是什么样的

  usb_cam，通过<camera_name>/image发布，订阅后就可以看到图像了。

  二维与三维

- 摄像头内参标定

  对图像畸变进行矫正，生成标定参数文件放到功能包中，在驱动中添加文件路径

- ROS+OpenCV物体识别

  ROS+OpenCV集成框架

- 使用相机驱动节点发布图像数据，用图像处理节点处理数据，用tf包进行坐标变换，将坐标发布出来，moveit接受信息，进行运动规划（包括pick和place），利用roscontrol驱动进行机械臂及手进行驱动

- 需要获取过程中的数据



